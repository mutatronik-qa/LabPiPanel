<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LabPiPanel - Sistema de Control de Laboratorio | ITM - DEMO</title>
    <style>
        /* LabPiPanel - Estilos con Identidad Corporativa ITM */

        :root {
            --itm-navy: #17335c;
            --itm-blue: #2b598d;
            --itm-white: #ffffff;
            --itm-gray: #333333;
            --itm-success: #27ae60;
            --itm-alert: #e74c3c;
            --itm-warning: #f39c12;
            --itm-light-bg: #f5f7fa;
            --itm-border: #dce4ec;
            --itm-shadow: rgba(23, 51, 92, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--itm-light-bg);
            color: var(--itm-gray);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--itm-navy) 0%, var(--itm-blue) 100%);
            color: var(--itm-white);
            padding: 20px 30px;
            box-shadow: 0 4px 12px var(--itm-shadow);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-img {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            background-color: var(--itm-white);
            padding: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.5rem;
            color: var(--itm-navy);
        }

        .header-text h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 0.95rem;
            opacity: 0.9;
            margin-bottom: 3px;
        }

        .institution {
            font-size: 0.85rem;
            opacity: 0.8;
            font-style: italic;
        }

        .system-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-dot.status-ok {
            background-color: var(--itm-success);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Main Container */
        .main-container {
            flex: 1;
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
            padding: 30px;
        }

        .dashboard {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* Panel */
        .panel {
            background-color: var(--itm-white);
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 8px var(--itm-shadow);
            border-left: 4px solid var(--itm-blue);
        }

        .panel-title {
            font-size: 1.5rem;
            color: var(--itm-navy);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid var(--itm-border);
            padding-bottom: 10px;
        }

        .icon {
            font-size: 1.8rem;
        }

        /* Control Groups */
        .control-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-weight: 600;
            color: var(--itm-navy);
            font-size: 0.9rem;
        }

        .input-group input {
            padding: 10px 12px;
            border: 2px solid var(--itm-border);
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--itm-blue);
        }

        /* Buttons */
        .control-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--itm-shadow);
        }

        .btn-action {
            background-color: var(--itm-blue);
            color: var(--itm-white);
        }

        .btn-action:hover {
            background-color: var(--itm-navy);
        }

        .btn-success {
            background-color: var(--itm-success);
            color: var(--itm-white);
        }

        .btn-alert {
            background-color: var(--itm-alert);
            color: var(--itm-white);
        }

        .btn-secondary {
            background-color: var(--itm-border);
            color: var(--itm-gray);
        }

        /* Status Box */
        .status-box {
            background-color: var(--itm-light-bg);
            border-left: 4px solid var(--itm-blue);
            border-radius: 6px;
            padding: 20px;
            margin: 15px 0;
        }

        .status-box h3 {
            color: var(--itm-navy);
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .measurements, .temperature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .measurement-item, .temp-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: var(--itm-white);
            border-radius: 4px;
            border: 1px solid var(--itm-border);
        }

        .label {
            font-weight: 600;
            color: var(--itm-navy);
        }

        .value, .temp-value {
            font-weight: 700;
            color: var(--itm-blue);
            font-size: 1.1rem;
        }

        .temp-value-large {
            font-weight: 700;
            color: var(--itm-navy);
            font-size: 1.4rem;
        }

        .avg-temp {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding: 15px;
            background-color: var(--itm-white);
            border-radius: 6px;
            border: 2px solid var(--itm-blue);
        }

        .status-active {
            color: var(--itm-success);
            font-weight: 700;
        }

        .status-inactive {
            color: var(--itm-alert);
            font-weight: 700;
        }

        /* Relay Cards */
        .relay-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .relay-card {
            background-color: var(--itm-light-bg);
            border-radius: 8px;
            padding: 20px;
            border: 2px solid var(--itm-border);
            text-align: center;
        }

        .relay-card h3 {
            color: var(--itm-navy);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .relay-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
            font-weight: 600;
        }

        .relay-indicator {
            font-size: 1.5rem;
        }

        .relay-active {
            color: var(--itm-success);
        }

        .relay-inactive {
            color: var(--itm-alert);
        }

        .relay-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 0.85rem;
        }

        /* Footer */
        .footer {
            background-color: var(--itm-navy);
            color: var(--itm-white);
            text-align: center;
            padding: 20px;
            margin-top: auto;
        }

        .footer p {
            margin: 5px 0;
            font-size: 0.9rem;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: -100px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            font-weight: 600;
            transition: top 0.3s ease;
            z-index: 1000;
            max-width: 400px;
        }

        .notification.show {
            top: 20px;
        }

        .notification-success {
            background-color: var(--itm-success);
            color: var(--itm-white);
        }

        .notification-info {
            background-color: var(--itm-blue);
            color: var(--itm-white);
        }

        .demo-badge {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--itm-warning);
            color: var(--itm-white);
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 999;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            .header-logo {
                flex-direction: column;
            }
            .control-group, .measurements, .temperature-grid, .relay-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-logo">
                <div class="logo-img">ITM</div>
                <div class="header-text">
                    <h1>LabPiPanel</h1>
                    <p class="subtitle">Sistema de Control de Laboratorio T√©rmico</p>
                    <p class="institution">Instituto Tecnol√≥gico Metropolitano - Medell√≠n, Colombia</p>
                </div>
            </div>
            <div class="system-status">
                <span class="status-dot status-ok"></span>
                <span>Sistema Demo Activo</span>
            </div>
        </div>
    </header>

    <main class="main-container">
        <div class="dashboard">
            <!-- Panel de Control de Fuente -->
            <section class="panel">
                <h2 class="panel-title">
                    <span class="icon">‚ö°</span>
                    Fuente de Alimentaci√≥n XLN30052
                </h2>
                
                <div class="control-group">
                    <div class="input-group">
                        <label for="voltageInput">Voltaje (V)</label>
                        <input type="number" id="voltageInput" min="0" max="300" step="0.1" value="12.5">
                        <button class="btn btn-action" onclick="setVoltage()">Configurar</button>
                    </div>
                    
                    <div class="input-group">
                        <label for="currentInput">Corriente L√≠mite (A)</label>
                        <input type="number" id="currentInput" min="0" max="5.2" step="0.01" value="1.0">
                        <button class="btn btn-action" onclick="setCurrent()">Configurar</button>
                    </div>
                </div>
                
                <div class="control-buttons">
                    <button class="btn btn-success" onclick="outputControl('on')">Activar Salida</button>
                    <button class="btn btn-alert" onclick="outputControl('off')">Desactivar Salida</button>
                    <button class="btn btn-secondary" onclick="measurePower()">Medir</button>
                </div>
                
                <div class="status-box">
                    <h3>Mediciones Actuales</h3>
                    <div class="measurements">
                        <div class="measurement-item">
                            <span class="label">Voltaje:</span>
                            <span class="value" id="voltageDisplay">12.50 V</span>
                        </div>
                        <div class="measurement-item">
                            <span class="label">Corriente:</span>
                            <span class="value" id="currentDisplay">0.80 A</span>
                        </div>
                        <div class="measurement-item">
                            <span class="label">Potencia:</span>
                            <span class="value" id="powerDisplay">10.00 W</span>
                        </div>
                        <div class="measurement-item">
                            <span class="label">Estado Salida:</span>
                            <span class="value status-active" id="outputStateDisplay">ACTIVA</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Panel de DAQ -->
            <section class="panel">
                <h2 class="panel-title">
                    <span class="icon">üå°Ô∏è</span>
                    Sistema de Adquisici√≥n de Datos (DAQ USB-5203)
                </h2>
                
                <div class="control-buttons">
                    <button class="btn btn-action" onclick="readTemperatures()">Leer Temperaturas</button>
                </div>
                
                <div class="status-box">
                    <h3>Evaporador (Canales 0-3)</h3>
                    <div class="temperature-grid">
                        <div class="temp-item">
                            <span class="label">CH0:</span>
                            <span class="temp-value" id="temp_ch0">45.3 ¬∞C</span>
                        </div>
                        <div class="temp-item">
                            <span class="label">CH1:</span>
                            <span class="temp-value" id="temp_ch1">46.1 ¬∞C</span>
                        </div>
                        <div class="temp-item">
                            <span class="label">CH2:</span>
                            <span class="temp-value" id="temp_ch2">44.8 ¬∞C</span>
                        </div>
                        <div class="temp-item">
                            <span class="label">CH3:</span>
                            <span class="temp-value" id="temp_ch3">45.6 ¬∞C</span>
                        </div>
                    </div>
                    <div class="avg-temp">
                        <span class="label">Promedio Evaporador:</span>
                        <span class="temp-value-large" id="temp_evap_avg">45.5 ¬∞C</span>
                    </div>
                </div>
                
                <div class="status-box">
                    <h3>Condensador (Canales 4-7)</h3>
                    <div class="temperature-grid">
                        <div class="temp-item">
                            <span class="label">CH4:</span>
                            <span class="temp-value" id="temp_ch4">32.4 ¬∞C</span>
                        </div>
                        <div class="temp-item">
                            <span class="label">CH5:</span>
                            <span class="temp-value" id="temp_ch5">31.9 ¬∞C</span>
                        </div>
                        <div class="temp-item">
                            <span class="label">CH6:</span>
                            <span class="temp-value" id="temp_ch6">32.7 ¬∞C</span>
                        </div>
                        <div class="temp-item">
                            <span class="label">CH7:</span>
                            <span class="temp-value" id="temp_ch7">32.1 ¬∞C</span>
                        </div>
                    </div>
                    <div class="avg-temp">
                        <span class="label">Promedio Condensador:</span>
                        <span class="temp-value-large" id="temp_cond_avg">32.3 ¬∞C</span>
                    </div>
                </div>
            </section>

            <!-- Panel de Rel√©s -->
            <section class="panel">
                <h2 class="panel-title">
                    <span class="icon">üîå</span>
                    Control de Rel√©s
                </h2>
                
                <div class="relay-grid">
                    <div class="relay-card">
                        <h3>Rel√© 1 - Bomba</h3>
                        <div class="relay-status" id="relay1Status">
                            <span class="relay-indicator relay-active">‚óè</span>
                            <span>Activo</span>
                        </div>
                        <div class="relay-controls">
                            <button class="btn btn-success btn-sm" onclick="relayControl(1, 'on')">Activar</button>
                            <button class="btn btn-alert btn-sm" onclick="relayControl(1, 'off')">Desactivar</button>
                        </div>
                    </div>
                    
                    <div class="relay-card">
                        <h3>Rel√© 2 - Respaldo 1</h3>
                        <div class="relay-status" id="relay2Status">
                            <span class="relay-indicator relay-inactive">‚óè</span>
                            <span>Inactivo</span>
                        </div>
                        <div class="relay-controls">
                            <button class="btn btn-success btn-sm" onclick="relayControl(2, 'on')">Activar</button>
                            <button class="btn btn-alert btn-sm" onclick="relayControl(2, 'off')">Desactivar</button>
                        </div>
                    </div>
                    
                    <div class="relay-card">
                        <h3>Rel√© 3 - Respaldo 2</h3>
                        <div class="relay-status" id="relay3Status">
                            <span class="relay-indicator relay-inactive">‚óè</span>
                            <span>Inactivo</span>
                        </div>
                        <div class="relay-controls">
                            <button class="btn btn-success btn-sm" onclick="relayControl(3, 'on')">Activar</button>
                            <button class="btn btn-alert btn-sm" onclick="relayControl(3, 'off')">Desactivar</button>
                        </div>
                    </div>
                    
                    <div class="relay-card">
                        <h3>Rel√© 4 - Respaldo 3</h3>
                        <div class="relay-status" id="relay4Status">
                            <span class="relay-indicator relay-inactive">‚óè</span>
                            <span>Inactivo</span>
                        </div>
                        <div class="relay-controls">
                            <button class="btn btn-success btn-sm" onclick="relayControl(4, 'on')">Activar</button>
                            <button class="btn btn-alert btn-sm" onclick="relayControl(4, 'off')">Desactivar</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Instituto Tecnol√≥gico Metropolitano (ITM) - Medell√≠n, Colombia</p>
        <p>Sistema de Control de Laboratorio para Investigaci√≥n en Propiedades T√©rmicas</p>
    </footer>

    <div class="demo-badge">MODO DEMO</div>
    <div class="notification" id="notification"></div>

    <script>
        // Sistema de notificaciones
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification notification-${type} show`;
            setTimeout(() => notification.classList.remove('show'), 3000);
        }

        // Simulaci√≥n de control de fuente
        function setVoltage() {
            const voltage = parseFloat(document.getElementById('voltageInput').value);
            if (voltage >= 0 && voltage <= 300) {
                document.getElementById('voltageDisplay').textContent = `${voltage.toFixed(2)} V`;
                showNotification(`Voltaje configurado: ${voltage.toFixed(2)}V`, 'success');
            }
        }

        function setCurrent() {
            const current = parseFloat(document.getElementById('currentInput').value);
            if (current >= 0 && current <= 5.2) {
                document.getElementById('currentDisplay').textContent = `${current.toFixed(2)} A`;
                showNotification(`Corriente configurada: ${current.toFixed(2)}A`, 'success');
            }
        }

        function outputControl(state) {
            const display = document.getElementById('outputStateDisplay');
            if (state === 'on') {
                display.textContent = 'ACTIVA';
                display.className = 'value status-active';
                showNotification('Salida activada', 'success');
            } else {
                display.textContent = 'INACTIVA';
                display.className = 'value status-inactive';
                showNotification('Salida desactivada', 'info');
            }
        }

        function measurePower() {
            const voltage = parseFloat(document.getElementById('voltageDisplay').textContent);
            const current = parseFloat(document.getElementById('currentDisplay').textContent);
            const power = (voltage * current).toFixed(2);
            document.getElementById('powerDisplay').textContent = `${power} W`;
            showNotification('Medici√≥n actualizada', 'success');
        }

        // Simulaci√≥n de lectura de temperaturas
        function readTemperatures() {
            for (let i = 0; i < 8; i++) {
                const baseTemp = i < 4 ? 45 : 32;
                const temp = (baseTemp + Math.random() * 2 - 1).toFixed(1);
                document.getElementById(`temp_ch${i}`).textContent = `${temp} ¬∞C`;
            }
            
            const evapTemps = Array.from({length: 4}, (_, i) => 
                parseFloat(document.getElementById(`temp_ch${i}`).textContent)
            );
            const evapAvg = (evapTemps.reduce((a, b) => a + b) / 4).toFixed(1);
            document.getElementById('temp_evap_avg').textContent = `${evapAvg} ¬∞C`;
            
            const condTemps = Array.from({length: 4}, (_, i) => 
                parseFloat(document.getElementById(`temp_ch${i + 4}`).textContent)
            );
            const condAvg = (condTemps.reduce((a, b) => a + b) / 4).toFixed(1);
            document.getElementById('temp_cond_avg').textContent = `${condAvg} ¬∞C`;
            
            showNotification('Temperaturas actualizadas', 'success');
        }

        // Simulaci√≥n de control de rel√©s
        function relayControl(relayNum, action) {
            const statusDiv = document.getElementById(`relay${relayNum}Status`);
            const indicator = statusDiv.querySelector('.relay-indicator');
            const text = statusDiv.querySelector('span:last-child');
            
            if (action === 'on') {
                indicator.className = 'relay-indicator relay-active';
                text.textContent = 'Activo';
                showNotification(`Rel√© ${relayNum} activado`, 'success');
            } else {
                indicator.className = 'relay-indicator relay-inactive';
                text.textContent = 'Inactivo';
                showNotification(`Rel√© ${relayNum} desactivado`, 'info');
            }
        }

        // Actualizaci√≥n autom√°tica de temperaturas cada 5 segundos
        setInterval(readTemperatures, 5000);
    </script>
</body>
</html>
